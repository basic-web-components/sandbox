<link rel="import" href="../basic-aspect/basic-aspect.html">

<link rel="import" href="../basic-children-content/basic-children-content.html">
<link rel="import" href="../basic-content-items/basic-content-items.html">
<link rel="import" href="../basic-item-selection/basic-item-selection.html">
<link rel="import" href="../basic-keyboard-direction/basic-keyboard-direction.html">
<link rel="import" href="../basic-tap-selection/basic-tap-selection.html">
<link rel="import" href="../basic-direction-selection/basic-direction-selection.html">
<link rel="import" href="../basic-accessible-list/basic-accessible-list.html">
<link rel="import" href="../basic-selection-highlight/basic-selection-highlight.html">
<!-- <link rel="import" href="../basic-paged-list-aspect/basic-paged-list-aspect.html"> -->

<polymer-element name="basic-list-box" extends="basic-aspect">
<template>
  <style>
  :host {
    display: block;
    /*outline: none;*/
    -webkit-overflow-scrolling: touch;
    overflow-y: scroll; /* for momentum scrolling */
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  }

  /* Generic appearance */
  :host([generic=""]) {
    border: 1px solid gray;
    box-sizing: border-box;
    cursor: default;
  }

  polyfill-next-selector {
    content: ':host([generic=""]) #content *';
  }
  :host([generic=""]) ::content > * {
    padding: 0.25em;
  }
  </style>

  <basic-keyboard-direction id="cursor" tabindex="0" assimilateChild>
    <basic-tap-selection assimilateChild>
      <basic-direction-selection assimilateChild>
        <basic-selection-highlight assimilateChild>
          <basic-accessible-list assimilateChild>
            <basic-item-selection assimilateChild>
              <basic-content-items assimilateChild>
                <basic-children-content id="content" assimilateChild>
                  <content id="content"></content>
                </basic-children-content>
              </basic-content-items>
            </basic-item-selection>
          </basic-accessible-list>
        </basic-selection-highlight>
      </basic-direction-selection>
    </basic-tap-selection>
  </basic-keyboard-direction>

</template>
<script>
/*

Polymer({

  aspects: new AspectSet(
    AspectAccessibleList,
    AspectContentItems,
    AspectCursorNavigation,
    AspectPageNavigation,
    AspectSelection,
    AspectSelectionHighlight,
    AspectSelectionScrolledInView,
    AspectSelecctionNavigation
  )

});

*/

Polymer({

  // ariaRole: 'listbox',

  ready: function() {

    // this.aspect.outermost.setAttribute('aria-role', this.ariaRole);

    if (this.getAttribute('generic') == null) {
      this.generic = true;
    }

    this.assimilate(this.$.cursor);
  },

  // TODO: Move to BasicWebComponents.Generic decorator
  publish: {
    generic: {
      value: null,
      reflect: true
    }
  }

});
</script>
</polymer-element>
