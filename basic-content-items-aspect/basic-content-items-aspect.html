<!--
Aspect for treating aspect children as list items.
-->

<link rel="import" href="../basic-aspect/basic-aspect.html">

<polymer-element name="basic-content-items-aspect" extends="basic-aspect">
<script>
Polymer({

  contribute: {

    applySelection: function(item, selected) {
      item.classList.toggle('selected', selected);
    },

    contentChildrenChanged: function() {
      // TODO: Nullify memoized results.
    },

    /*
     * Return the index of the indicated item.
     */
    indexOfItem: function(item) {

      // TODO: Can we just use indexOf()?
      // return this.items.indexOf(item);

      if (item == null) {
        return -1; // By definition
      }
      var items = this.items;
      for (var i = 0, length = items.length; i < length; i++) {
        if (items[i] === item) {
          return i; // Found
        }
      }
      return -1; // Not found
    },

    get items() {
      // TODO: Memoize
      // TODO: Filter out auxiliary content.
      // TODO: flatten children.
      return this.stack.children;
    }

  }

});
</script>
</polymer-element>
